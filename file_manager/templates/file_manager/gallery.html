<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classical Concert Gallery</title>
    {% load static %}
    <style>
        /* ì „ì²´ í™”ë©´ ìŠ¤íƒ€ì¼ */
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(120deg, #1c1c1c, #2a2a2a);
            color: #f5f5f5;
            font-family: 'Georgia', serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-x: hidden;
        }

        /* í—¤ë” ìŠ¤íƒ€ì¼ */
        h1 {
            font-size: 3rem;
            margin: 40px 0;
            text-align: center;
            color: #ffd700;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
            letter-spacing: 3px;
        }

                /* í¬ìŠ¤í„° ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
                .poster-container {
            width: 90%;
            max-width: 1200px;
            margin: 40px auto;
            display: flex;
            justify-content: center;
            flex-wrap: wrap; /* í¬ìŠ¤í„°ë¥¼ ì¤„ ë°”ê¿ˆ */
            gap: 20px;
        }

        .poster {
            width: calc(33.333% - 20px); /* 3ê°œì”© ê· ë“± ë°°ì¹˜ */
            max-width: 300px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            object-fit: cover;
        }

        .poster:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.7);
        }

        @media (max-width: 768px) {
            .poster {
                width: calc(50% - 10px); /* ëª¨ë°”ì¼ì—ì„œëŠ” 2ê°œì”© ë°°ì¹˜ */
            }
        }

        @media (max-width: 480px) {
            .poster {
                width: 100%; /* ë” ì‘ì€ í™”ë©´ì—ì„œëŠ” 1ê°œì”© ë°°ì¹˜ */
            }
        }

        /* ì´ë¯¸ì§€ ìƒë‹¨ ë©”ì¸ ë°°ë„ˆ */
        .image-container {
            position: relative;
            width: 100%;
            height: 70vh; /* ë†’ì´ëŠ” 70% ë·°í¬íŠ¸ë¡œ ì„¤ì • */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            background-color: #000; /* ì´ë¯¸ì§€ê°€ ì—†ëŠ” ê²½ìš° ë°°ê²½ìƒ‰ */
        }

        .image-container img {
            width: 100%; /* ë„ˆë¹„ë¥¼ 100%ë¡œ ì„¤ì • */
            height: 100%; /* ë†’ì´ë¥¼ 100%ë¡œ ì„¤ì • */
            object-fit: cover; /* ë¹„ìœ¨ì„ ìœ ì§€í•˜ë©° ì»¨í…Œì´ë„ˆì— ë§ì¶¤ */
            object-position: center; /* ì¤‘ì•™ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ */
            animation: zoomInOut 12s infinite alternate ease-in-out; /* í™•ëŒ€/ì¶•ì†Œ ì• ë‹ˆë©”ì´ì…˜ */
        }

        @keyframes zoomInOut {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(1.1);
            }
        }

        @media (max-width: 768px) {
            .image-container {
                height: 50vh; /* ëª¨ë°”ì¼ì—ì„œëŠ” ë†’ì´ë¥¼ ì¤„ì„ */
            }
            
            .image-container img {
                object-fit: contain; /* ëª¨ë°”ì¼ì—ì„œ ì˜ë¦¬ì§€ ì•Šë„ë¡ contain ì ìš© */
            }
        }


        /* ìŠ¤í¬ë¡¤ ì˜ì—­ ìŠ¤íƒ€ì¼ */
        .scroll-wrapper {
            position: relative;
            width: 90%;
            margin: 40px auto;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }

        .scroll-container {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            gap: 20px;
            padding: 20px;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease-in-out;
        }

        .scroll-container img {
            width: 350px;
            height: 250px;
            object-fit: cover;
            border-radius: 12px;
            transition: transform 0.4s, box-shadow 0.4s;
            scroll-snap-align: center;
            cursor: pointer;
        }

        .scroll-container img:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.5);
        }

        .scroll-container::-webkit-scrollbar {
            height: 10px;
        }

        .scroll-container::-webkit-scrollbar-thumb {
            background: #ffd700;
            border-radius: 5px;
        }

        .scroll-container::-webkit-scrollbar-track {
            background: #333;
        }

        /* ì¢Œìš° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .scroll-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.6);
            color: white;
            border: none;
            padding: 15px 20px;
            cursor: pointer;
            z-index: 10;
            border-radius: 50%;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        .scroll-button.left {
            left: -10px;
        }

        .scroll-button.right {
            right: -10px;
        }

        .scroll-button:hover {
            background: #ffd700;
            color: #000;
        }

        /* ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .download-button {
            display: inline-block;
            padding: 15px 30px;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            background-color: #ffd700;
            text-decoration: none;
            border-radius: 10px;
            transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        .download-button:hover {
            background-color: #f2c200;
            transform: scale(1.1);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.7);
        }

        /* ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì¶”ê°€ */
        .logout-button {
            display: inline-block;
            padding: 15px 30px;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            background-color: #ff4d4d; /* ë¶‰ì€ìƒ‰ (ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼) */
            text-decoration: none;
            border-radius: 10px;
            transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            margin-left: 20px; /* ë¡œê·¸ì¸ ë²„íŠ¼ê³¼ ê°„ê²© ì¶”ê°€ */
        }

        .logout-button:hover {
            background-color: #e60000; /* hover ì‹œ ë” ì§„í•œ ë¶‰ì€ìƒ‰ */
            transform: scale(1.1);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.7);
        }

        /* ë²„íŠ¼ ì»¨í…Œì´ë„ˆ ì •ë ¬ */
        .button-container {
            text-align: center;
            margin-top: 20px;
        }

        .footer {
            width: 100%;
            background-color: #222;
            color: #f5f5f5;
            text-align: center;
            padding: 15px 0;
            margin-top: 40px;
            font-size: 0.9rem;
            border-top: 2px solid #ffd700;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .footer a {
            color: #ffd700;
            text-decoration: none;
            font-weight: bold;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* ì•ˆë‚´ì°½ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none;
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(255, 255, 255, 0.5);
            text-align: center;
            z-index: 1000;
        }

        .modal-content {
            font-size: 16px;
        }

        .modal-footer {
            margin-top: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-footer button {
            background: #ffd700;
            color: black;
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .modal-footer button:hover {
            background: #f2c200;
        }

        .modal-footer input[type="checkbox"] {
            margin-right: 5px;
        }

    </style>

     <!-- ì•ˆë‚´ì°½ ê´€ë ¨ ìŠ¤í¬ë¦½íŠ¸ -->
     <script>
        document.addEventListener("DOMContentLoaded", function() {
            // ì¿ í‚¤ì—ì„œ ì•ˆë‚´ì°½ ìˆ¨ê¹€ ì—¬ë¶€ í™•ì¸
            if (!getCookie("hideNotice")) {
                document.getElementById("noticeModal").style.display = "block";
            }
        });

        function closeNotice() {
            let hideForDay = document.getElementById("hideForDay").checked;
            if (hideForDay) {
                setCookie("hideNotice", "true", 1); // 1ì¼ ë™ì•ˆ ì €ì¥
            }
            document.getElementById("noticeModal").style.display = "none";
        }

        function setCookie(name, value, days) {
            let date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            let expires = "expires=" + date.toUTCString();
            document.cookie = name + "=" + value + "; " + expires + "; path=/";
        }

        function getCookie(name) {
            let decodedCookie = decodeURIComponent(document.cookie);
            let cookies = decodedCookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                let c = cookies[i].trim();
                if (c.indexOf(name + "=") === 0) {
                    return c.substring(name.length + 1);
                }
            }
            return "";
        }

        function clearCache() {
            sessionStorage.clear();  // ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ í´ë¦¬ì–´
            localStorage.clear();  // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ í´ë¦¬ì–´
            window.location.reload(true);  // ê°•ì œ ìƒˆë¡œê³ ì¹¨ (ìºì‹œ ë¬´íš¨í™”)
        }
    </script>
</head>
<body>
    <!-- ìœˆë„ìš° ìŠ¤íƒ€ì¼ ì•ˆë‚´ ëª¨ë‹¬ -->
    <div id="noticeModal" class="modal">
        <div class="modal-header">
            <span>ğŸ“¢ ì„œë²„ ìš´ì˜ ì•ˆë‚´</span>
            <button class="close-btn" onclick="closeNotice()">âœ–</button>
        </div>
        <div class="modal-content">
            <p>âš ï¸ ì„œë²„ ì‚¬ìš© ì‹œê°„ : ì˜¤ì „, ì˜¤í›„ 
                <br> ì„œë²„ ì¢…ë£Œ ì‹œê°„ : ìƒˆë²½(ìëŠ” ì‹œê°„)</p>
        </div>
        <div class="modal-footer">
            <label>
                <input type="checkbox" id="hideForDay"> í•˜ë£¨ ë™ì•ˆ ë³´ì§€ ì•Šê¸°
            </label>
            <button class="confirm-btn" onclick="closeNotice()">ë‹«ê¸°</button>
        </div>
    </div>

    <h1>4 Waves : Classical Concert Gallery</h1>
    
    <div class="button-container">
        {% if user.is_authenticated %}
            <!-- ë¡œê·¸ì¸í•œ ê²½ìš° -->
            <a href="{% url 'download_list' %}" class="download-button">Download List</a>
            <a href="{% url 'logout' %}" class="logout-button">Logout</a>
        {% else %}
            <!-- ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê²½ìš° -->
            <a href="{% url 'social:begin' 'kakao' %}" class="download-button" onclick="clearCache()">Download (Login with Kakao)</a>
        {% endif %}
    </div>
    

    <div class="image-container">
        <img src="{% static 'images/gallery_main.jpg' %}" alt="Main Gallery Image">
    </div>

    <div class="scroll-wrapper">
        <button class="scroll-button left">â—€</button>
        <div class="scroll-container">
            {% for image in images %}
                <img src="{{ image_base_url }}{{ image }}" alt="Image {{ forloop.counter }}">
            {% endfor %}
        </div>
        <button class="scroll-button right">â–¶</button>
    </div>

    <!-- í¬ìŠ¤í„° ì„¹ì…˜ -->
    <div class="poster-container">
        <img src="{% static 'images/poster1.jpg' %}" alt="Poster 1" class="poster">
        <img src="{% static 'images/poster2.jpg' %}" alt="Poster 2" class="poster">
        <img src="{% static 'images/poster3.jpg' %}" alt="Poster 3" class="poster">
    </div>
</body>
<!-- ì›¹ ë²„ì „ ë° ê°œë°œì ì •ë³´ -->
<footer class="footer">
    <div class="footer-content">
        <p>ğŸ“Œ <strong>Version : </strong> v1.0.4</p>
        <p>ğŸ’» <strong>Software Engineer :</strong> Seunghak Hong </p>
        <p>ğŸ™ <strong>GitHub : </strong> <a href="https://github.com/amirer21/file-cloud" target="_blank">github.com/amirer21</a></p>
        <p>âœ <strong>Blog : </strong> <a href="https://amirer21.github.io/" target="_blank">amirer21.github.io</a></p>
    </div>
</footer>
</html>
